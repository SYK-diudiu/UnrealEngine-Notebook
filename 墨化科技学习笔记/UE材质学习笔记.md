# 颜色基础

## 明度



## 饱和度（Saturation）

**本质**：饱和度与色彩中 “纯色成分” 和 “灰色成分” 的比例相关。

例如，纯红色（100% 饱和度）中没有灰色；当加入灰色后，红色会逐渐变浅（如粉红色）或变暗（如暗红色），饱和度随之降低；当灰色占比 100% 时，颜色就变成了黑白灰中的一种（饱和度为 0）。

所谓颜色，实际上就是`RGB`红绿蓝三色混合得到，饱和度**减少**时就会等比例**增加**三色中占比较少的两个颜色的比例，直到三种颜色的数值相同，这时由于三种颜色比例相同所以总体呈现的颜色可能是黑白灰中的一种，因为具体是什么颜色却决于此时比例相同的三种颜色的数值在0到1之间的位置，越接近0越黑，越接近1越白。

![image-20250714172217183](UE材质学习笔记.assets/image-20250714172217183.png)

注意到图中`RGB`三色的比例相等（即饱和度为0，即参数`S`为0），但是它们的数值均为0.1，比较靠近0，所以整体呈现出来的颜色就是偏黑的灰色。

![image-20250714172415172](UE材质学习笔记.assets/image-20250714172415172.png)

当`RGB`三色数值均为0.9时，整体呈现出来的颜色就非常接近白色。

# 材质基础

## 材质基础（一）

### 向量的区别

#### 1-4元向量含义和创建

1. 一元向量：

   在材质球蓝图中，按住键盘上的1加鼠标左键即可创建。指单独的X或Y或Z。

2. 二元向量： 

   在材质球蓝图中，按住键盘上的1加鼠标左键即可创建。

   二元向量是由坐标轴上面的一对数构成的，代表着横轴和纵轴的信息，在UE中也可以代表颜色的RG，空间的XY。

3. 三元向量：

   在材质球蓝图中，按住键盘上的1加鼠标左键即可创建。

   三元向量是在XY基础上添加了一个纵轴，也就是Z轴，在UE中常用于表现RGB以及XYZ的坐标信息。

4. 四元向量：

   在材质球蓝图中，按住键盘上的1加鼠标左键即可创建。

   在XYZ的基础上增加了一个空间中一个可以任意调控的值，例如Alpha之类的

#### 常量和参数的区别

​	上面我们按住键盘上数字创建的向量均属于常量。

<img src="UE材质学习笔记.assets/image-20250301120414957.png" alt="image-20250301120414957" style="zoom: 67%;" />

​	而参数则需要我们对其进行转化，比如现在随便选择一个常量，鼠标右键单击选择下图所示选项。

![image-20250301120534843](UE材质学习笔记.assets/image-20250301120534843.png)

​	之后即可将其转换为参数，从材质球的节点中拖动出来创建的节点也属于参数。

​	常量和参数的区别就是：常量不会在材质球实例（即：子材质球）中出现，因此它不能在子球中进行修改；而参数则会继承到子材质球上，我们可以在子球中通过对参数的修改而改变子球的属性。

​	更明显的一个区别是，是参数的节点，其名称下往往有`Param`（Parameter)标志，而常量节点没有。

![image-20250301121055209](UE材质学习笔记.assets/image-20250301121055209.png)

![image-20250301121122539](UE材质学习笔记.assets/image-20250301121122539.png)

​	可以看到上图中两个节点一个是常量一个是参数，现在我们创建材质球实例，观察常量和参数是否可以在实例中设置。

![image-20250301121259368](UE材质学习笔记.assets/image-20250301121259368.png)

​	可以看到只有参数节点可以在子材质球中进行设置。

### PBR材质节点

![image-20250713111359639](UE材质学习笔记.assets/image-20250713111359639.png)

- Base Color — 基本颜色

  指物体的基本颜色，不包含任何的照明或者阴影，所以基本颜色的纹理看起来非常平坦

- Specular — 镜面

  用来控制高光的强度与范围的，我们可以通过它设置部分区域的反光

- Roughness — 粗糙度

  就是我们平时所说的平滑与粗糙，贴图白色部分代表粗糙度比较高的区域，黑色部分代表粗糙度比较低的区域

- Metallicity — 金属度

  生活中没有既金属右不是金属的半金属的物体，金属贴图也是非黑即白，没有灰色的贴图，当金属度为1时，漫射颜色也就看不见了，物体颜色就由金属颜色决定

- Normal — 法线

  可以帮我们把低模的物体，变成类似高模的物体（但是法线的原理是通过改变光的折射形成的假细节，真细节只有置换，但是UE5的法线已经近似于置换了）



### 什么是UV

三维模型通常是由点、线、面组成的虚构物体，如果想要在物体的表面绘制图案，那就需要用到纹理贴图

纹理的坐标通常分为U和V两个坐标，因此称为UV坐标

### 展UV

将一个立方体沿着边线切割展开

![img](UE材质学习笔记.assets/1651055671291-f5328dac-c6fd-485c-bb50-11f775ab5534.png)

就获得了这个立方体的UV

![img](UE材质学习笔记.assets/1651055689659-431027af-70ae-416f-b418-e9fa865895e3.png)

然后将我们所需要的图片贴在UV上

![img](UE材质学习笔记.assets/1651055728819-8a28c84c-9c8f-4872-b47e-0bee07724e97.png)

然后再把立方体拼回来

![img](UE材质学习笔记.assets/1651055745290-001c4564-296b-48f7-afcf-e2fb64918e6e.png)

这个过程就叫展UV

![img](UE材质学习笔记.assets/1651055767518-cfb65bdb-7f27-46f2-8de8-499c30cb463d.png)

### UV提取

01.添加Texture Coordinate节点连接到贴图

![img](UE材质学习笔记.assets/1651135697441-b957983f-bbe2-4f83-8175-39b27ee16b58.png)

02.再次添加Component Mask — 组件掩码  节点

![img](UE材质学习笔记.assets/1651135808438-9387bcf6-4493-4a5f-a107-baad59a6fb98.png)

关闭Component Mask中的 G 选项

![img](UE材质学习笔记.assets/1651135872020-11c0b098-98fb-4763-8f33-b0947709f015.png)

03.添加Multiply — 相乘  节点

![img](UE材质学习笔记.assets/1651135996635-0c07018b-1a6e-4f3b-a477-6a5b0acb1985.png)

然后将Component Mask节点和一元向量使用相乘连接起来

![img](UE材质学习笔记.assets/1651136064553-b9f566c7-c051-4e07-969e-a70ca67e303d.png)

04.将一元向量U信息调整成1

![img](UE材质学习笔记.assets/1651136156743-1d25e45b-43cb-44f7-b0e3-e20aa6ac6025.png)

05.然后使用同样方法提取V信息

![img](UE材质学习笔记.assets/1651136224175-a5298eed-026c-498d-8c61-295c74b197ae.png)

使用的是Make Floath2节点  将U和V信息连接起来

![img](UE材质学习笔记.assets/1651136393966-b0a01937-8671-4cad-b279-d098f9660fd7.png)

06.使用Add — 相加节点 和一元向量提取U的偏移

![img](UE材质学习笔记.assets/1651136577636-c3fcbb34-9c04-4b4d-b370-9a4b7bc798e5.png)

07.再使用Add — 相加节点 和一元向量提取V的偏移

![img](UE材质学习笔记.assets/1651136672692-8fec7351-6bc9-46aa-9269-3c6b01b4f79d.png)

### 参数分组

选中U的信息，在Group中新建一个U的控制 —— U CONTROL 

![img](UE材质学习笔记.assets/1651137150710-3803b6fc-45c7-4566-b5f7-8647d269d8a9.png)

再将U的偏移也分到U CONTROL 

![img](UE材质学习笔记.assets/1651137217833-f9421611-c252-4a6a-b168-41242c64e0e7.png)

V的信息也是同样分组

## 材质基础（二）

### 材质属性参数

#### Base Color 基础颜色

![img](UE材质学习笔记.assets/1721616878747-01370631-9eb0-44a6-9c6e-9d1230685475.png)

#### Metallic 金属度

![img](UE材质学习笔记.assets/1721616926687-b1e765f3-c051-4de5-93ee-cdb4eec04a3d.png)

#### Specular 反射

![img](UE材质学习笔记.assets/1721616982586-0a6b15ed-017c-4b54-9495-2c5157d0b564.png)

#### Roughness 粗糙度

![img](UE材质学习笔记.assets/1721617120149-0b24061a-4dc9-4260-8c53-39ef407a37b0.png)

#### Emissive Color 发光颜色

![img](UE材质学习笔记.assets/1721619453421-161d3486-4774-4eb0-b610-98bb3e96a940.png)

#### World Position Offset 世界位置偏移

![image-20250713111752201](UE材质学习笔记.assets/image-20250713111752201.png)

给该引脚传递三维参数可以改变材质在视觉上的位置，为什么说是视觉上的位置，因为视觉是会欺骗人的，使用该材质的物体本身的位置并没有改变，只是材质的表现让我们认为它改变了。

下面举例演示该引脚的作用。

![image-20250713113308512](UE材质学习笔记.assets/image-20250713113308512.png)

![image-20250713112513582](UE材质学习笔记.assets/image-20250713112513582.png)

新建一个材质，我们使用一张图片（不用在意图片中的内容）作为`BaseColor`可以看到材质球的样子已经发生了变化，之后我们使用一个三元参数并将其R、G、B三个数字合并为一个三维向量传入`World Position Offset`引脚，三元参数的初始值均为0。

在世界场景中拖入一些物体进行测试，见下图。

![image-20250713113006515](UE材质学习笔记.assets/image-20250713113006515.png)

可以看到我使用了一个球体和一个正方体，其中球体使用简单的白色材质，它将作为参照物方便我们观察右侧正方体材质在视觉上的位置变化。正方体使用刚刚新建的材质，**注意正方体位置是否发生了变化**。

下面我会尝试改变三元参数中的各个数值。

![image-20250713113849476](UE材质学习笔记.assets/image-20250713113849476.png)

可以看到我改变了三元参数中的`B`对应的值为100，也就是`XYZ`中的`Z`，可以看出正方体在视觉上向`Z`轴正方向移动了100厘米。

但是仔细观察就会发现，代表正方体坐标的那个点并没有变化，始终在球体的右边，如果此时撤销正方体使用的材质，就会发现正方体并没有发生移动，如下图所示。

![image-20250713114150725](UE材质学习笔记.assets/image-20250713114150725.png)

材质的`B`数值仍然是100，当正方体刚才使用的材质被撤销之后就可以看到其实它并没有移动，只是使用的材质带给我们了视觉上的变化而已。

**旗帜飘动效果**

![img](UE材质学习笔记.assets/1721620187712-11cf8edb-942a-452e-9008-6aaad14d315c.png)

通过虚幻内置的一些材质函数或自定义材质函数（比如：“Grass Wind”），连接到此引脚可以实现类似旗帜飘动的效果，因为该引脚接收的每个数值都会改变被赋予材质的物体的形状，那么一连串的数值的改变，就可以组成一个飘动的画面，这就是它的工作原理。

### Material Domain（材质领域）

#### Light Function 灯光函数

材质蓝图的细节面板中，在`Material Domain`选项卡里面可以找到`Light Function`（灯光函数）选项，该选项主要为灯光效果服务，为灯光制作不同效果的材质是使用。

![image-20250713161807202](UE材质学习笔记.assets/image-20250713161807202.png)

比如说在下图所示的场景中只有一个聚光源照射在地面上，它只有很普通的圆形光。

![image-20250713163007292](UE材质学习笔记.assets/image-20250713163007292.png)

为了丰富普通的灯光效果，我们就可以为其添加`Light Function`，在灯光的细节面板中就有添加`Light Function`的选项，如下图所示。

![image-20250713162449128](UE材质学习笔记.assets/image-20250713162449128.png)

现在可以简单制作一个`Light Function`并将它运用到图中的聚光源上，看看光射出的效果是怎样的。

![image-20250713163157914](UE材质学习笔记.assets/image-20250713163157914.png)

我将一张黑白图片连接到了`Light Function`模式下唯一暴露的引脚`Emissive Color`上，之后我把该材质应用到了灯光的对应选项中。

![image-20250713163326456](UE材质学习笔记.assets/image-20250713163326456.png)

最后的到了下图所示的灯光效果。

![image-20250713163349556](UE材质学习笔记.assets/image-20250713163349556.png)

这就是`Light Function`模式下材质的使用方式，关于传递给`Emissive Color`引脚的图片可以不是黑白的，但是不论传递的图片是什么颜色，只要灯光颜色是白色，那么最终颜色就是黑白色，因为决定光颜色的部分在光的细节面板里，不取决于这里材质里使用的图片的颜色，如果想改变最终打出的光亮的颜色，那就改变光细节面板中的颜色即可。

### Blend Mode（材质混合模式类型）

#### Masked 已遮罩

![img](UE材质学习笔记.assets/1721620488140-a7a952c0-9398-43d5-aa08-825a82568218.png)

![img](UE材质学习笔记.assets/1721620654352-6a6c3597-a9f7-43ca-9f81-02ca2edbb298.png)

​	对于当前模式，只有透明和不透明之分，没有半透明的说法，起到关键作用的引脚就是那个`Opacity Mask`（中文：不透明蒙版），把黑白图片传入该引脚，图片中偏黑色的地方会变得完全透明，而偏白色的地方会变得完全不透明，具体是以0.34为分界线，大于0.34不透明，小于0.34透明，一刀切没有过渡，需要过度的话可以使用下面的`Translucent`。

​	注意与下面的`Translucent` 对比。

#### Translucent 半透明

![img](UE材质学习笔记.assets/1721620705305-aa9805e2-645a-4d8c-bd52-2e9ce70b2179.png)

![img](UE材质学习笔记.assets/1721620730619-1c605e36-1868-45f8-aecd-c2eb87f14ef0.png)

​	对于该模式，我们有透明、半透明、不透明之分，从黑到白，这个过程中，我们的材质会随之变得越来越不透明，因此可以看到图中的材质表现是从完全透明到半透明最后再到不透明的过渡。

##### Additive 添加

![img](UE材质学习笔记.assets/1721620800898-c1d5eae8-3c07-470f-a00d-d45fc7255490.png)

![img](UE材质学习笔记.assets/1721621514972-45ca5df3-8bd5-4d40-995d-9c77347041a3.png)

启用了叠加选项之后，两个半透明材质通过叠加的方向看过去会有一定的增强效果，看起来更亮了。

##### Surface ForwardShading 表面向前着色

制作玻璃等类似材质时，往往会选择`Translucent`混合模式，但是这种混合模式在默认情况下会缺少很多可以调整的引脚，如下图所示。

![image-20250713120652001](UE材质学习笔记.assets/image-20250713120652001.png)

![image-20250713120731133](UE材质学习笔记.assets/image-20250713120731133.png)

但是有时候我们又需要调整其中被隐藏的一些引脚来调整材质，这是即可找到`Surface ForwardShading`选项，在细节面板中搜索`Translucency`之后找到`Lightning Mode`选项卡即可找到该选项。

![image-20250713121027377](UE材质学习笔记.assets/image-20250713121027377.png)

选择之后即可看到PBR材质节点中很多不可用的节点就回来了，如下图所示。

![image-20250713121244390](UE材质学习笔记.assets/image-20250713121244390.png)

这是目前已知的最好的解决方案。

##### 开启折射

在半透明模式制作玻璃、水等材质时需要赋予材质一定的折射率，这样才能更加拟真，但是默认情况下设置折射率（Refraction)的引脚是不启用的，如下图所示。

![屏幕截图 2025-07-13 170727](UE材质学习笔记.assets/屏幕截图 2025-07-13 170727.png)

因此我们需要在细节面板中找到对应的选项卡，如下图所示。

![image-20250713170942251](UE材质学习笔记.assets/image-20250713170942251.png)

选择第一个`Index of Refraction`（虚幻引擎的中文翻译就是：折射率）即可。

![image-20250713171101812](UE材质学习笔记.assets/image-20250713171101812.png)

## UV调整

### 概要

想要修改类似`Texture Sample`节点的贴图`UV`时，通常需要先建立一个最基础的`UV`坐标系（使用`Texture Coordinate`节点），在此基础坐标系的基础上做出自己想要的修改，之后将修改过的`UV`坐标系数据连接到`Texture Sample`节点的`UVs`引脚上即可。

调整`UV`通常结合`Multiply`节点、`ComponentMask`节点、`AppendVector`节点等使用。

- 抽取单独通道时，使用`ComponentMask`节点
- 合并通道时，使用`AppendVector`节点
- 缩放材质大小即缩放`UV`时，使用`Multiply`节点。`U`和`V`数值变大，对应图案给我们的感觉就是缩小；`U`和`V`数值变小，对应图案给我们的感觉就是放大的效果。
- 平移材质即加减`UV`时，使用`Add`节点，图案会随着增加或减少的`UV`数值而上下左右移动。

### 缩放`UV`的节点连接方法。

#### UV整体调整

![image-20250715152832792](UE材质学习笔记.assets/image-20250715152832792.png)

![image-20250715153024365](UE材质学习笔记.assets/image-20250715153024365.png)

这是一种整体调整`UV`的连接方法，缺陷很大，不能对`U`和`V`进行单独调整，如果没有很细致的需要，使用它可以迅速实现图案的缩放效果。

#### UV单独调整

![image-20250715153714550](UE材质学习笔记.assets/image-20250715153714550.png)

![image-20250715153925381](UE材质学习笔记.assets/image-20250715153925381.png)

这种连接方式实现了对`UV`的单独调整，注意到图中`UV`数据为2、3，`U`控制横向数量，`V`控制纵向数量，所以图案应该是2列3行。

第二种单独调整的连接方式如下图所示。

![image-20250715154204213](UE材质学习笔记.assets/image-20250715154204213.png)

对四通道的参数使用`ComponentMask`节点只获取`RG`通道的数据，作为乘数修改`UV`也可以实现`UV`的单独调整，在材质的实例中找到下图所示位置。

![image-20250715154433952](UE材质学习笔记.assets/image-20250715154433952.png)

![image-20250715154611604](UE材质学习笔记.assets/image-20250715154611604.png)

可以看到`RG`的数值仍然是2、3，图案依旧是原来的图案，`B`和`A`的值在这里没有用，因此我随意设置了数值作为提醒。

#### UV的整体与单独调整

![image-20250715154829631](UE材质学习笔记.assets/image-20250715154829631.png)

原理相同，只需要将节点相接即可，不再赘述。

### 平移`UV`的节点连接方法

连接方法和缩放差不多，把`Multiply`节点换成`Add`节点即可，不在赘述。

# 常用功能节点总结

## Constants类

### Time

![image-20250713214259964](UE材质学习笔记.assets/image-20250713214259964.png)

该节点会随时间流逝稳定输出持续增大的数字，**可以使用这一特性来实现材质动态效果的速度控制**。

![image-20250713215125475](UE材质学习笔记.assets/image-20250713215125475.png)

材质蓝图中使用了`DebugScalarValues`节点并连接`BaseColor`引脚，材质会展示不断变化的`Time`节点传出的数字，如下图所示。

![image-20250713215320836](UE材质学习笔记.assets/image-20250713215320836.png)

![image-20250713215334810](UE材质学习笔记.assets/image-20250713215334810.png)

## Coordinates类

### CameraPositionWS

### Panner

![image-20250713215923034](UE材质学习笔记.assets/image-20250713215923034.png)

- **Coordinate**：多用于接收`UV`坐标，可以在传递过来的`UV`基础上进行平移操作。

- **Time**：就是`Time`函数在发挥作用，可以连接由`Time`函数发出的值来控制速度，如下图所示。

  ![image-20250713220812658](UE材质学习笔记.assets/image-20250713220812658.png)

  使用`Time`节点再乘一个数字即可控制其时间流速，将修改过的时间流速传递给`Panner`节点即可控制`Panner`对`UV`坐标的修改速度，从而改变`BaseColor`展现的图片的动态效果速度。

  ![image-20250713221018650](UE材质学习笔记.assets/image-20250713221018650.png)

  上图是1倍速下的截图。

  ![image-20250713221105786](UE材质学习笔记.assets/image-20250713221105786.png)

  上图是0.1倍速下的截图，从图案的模糊程度可以看出0.1倍速确实放慢了不少。

- **Speed**：这两个数字的数值就是单位时间修改`UV`的数量，`X`修改`U`，`Y`修改`V`。

### TextureCoordinate

![image-20250715145524865](UE材质学习笔记.assets/image-20250715145524865.png)

该节点用于创建并输出一个基础的`UV`坐标系，可以通过修改这个坐标系中的`UV`数据来实现修改材质效果的功能。

快捷键：U+LMB，键盘U+鼠标左键。

在`Dubug`模式下我们可以通过材质看到该节点输出的数据值，如下图所示。

![image-20250715150148321](UE材质学习笔记.assets/image-20250715150148321.png)

![image-20250715150205414](UE材质学习笔记.assets/image-20250715150205414.png)

虽然看不清楚具体数值，但是可以肯定的是这是一个二位坐标，因此完全可以用于同样是二位坐标的`UV`的修改。

下面举例展示修改`TextureCoordinate`节点的效果。

![image-20250715151319903](UE材质学习笔记.assets/image-20250715151319903.png)

![image-20250715151345450](UE材质学习笔记.assets/image-20250715151345450.png)

如图连接节点，可以看到此时`TextureCoordinate`节点的`U`平铺和`V`平铺均为1，即默认状态，此时材质中显示出来的图片没有变化。

下面改变一下`U`平铺的数值。

![image-20250715151533120](UE材质学习笔记.assets/image-20250715151533120.png)

![image-20250715151543487](UE材质学习笔记.assets/image-20250715151543487.png)

可以看到原本只有一份的图片变成了三份挤在这里，这就是`U`给图片带来的横向的改变。

`V`同理，如下图所示。

![image-20250715151733006](UE材质学习笔记.assets/image-20250715151733006.png)

![image-20250715151746342](UE材质学习笔记.assets/image-20250715151746342.png)

### WorldPosition

### VertexNormalWS（顶点法线）

![image-20250713181218128](UE材质学习笔记.assets/image-20250713181218128.png)

在制作汽车玻璃等要求边缘折射较大，中心折射较小的材质时，除了使用`Fresnel`菲涅尔插值折射率之外还可以使用该节点达到类似的效果。

下图是使用`Fresnel`菲涅尔制造汽车玻璃折射效果，材质使用的其它节点省略。

![image-20250713181753847](UE材质学习笔记.assets/image-20250713181753847.png)

使用`VertexNormalWS`节点，直接链接折射率引脚，得到的折射效果时是反的，可以通过`OneMinus`数学节点来实现反向变化，如下图所示。

![image-20250713182029910](UE材质学习笔记.assets/image-20250713182029910.png)

## Parameters类

### StaticSwitchParameter

![image-20250715140738895](UE材质学习笔记.assets/image-20250715140738895.png)

该节点用于实现材质蓝图中的流程控制，当`Value`值为1时，材质蓝图会计算连接到`True`引脚上的材质效果并从右侧输出，当`Value`为0时，材质蓝图会计算连接到`False`引脚上的材质效果并从右侧输出。

当我们想要实现在同一个材质上实现不同的功能，或者功能之间来回切换以增强材质复用性时，就可以使用这种流程控制节点。

此外使用该节点会自动创建材质的参数，可以在材质实例中使用。

下面举例展示效果。

![image-20250715141338483](UE材质学习笔记.assets/image-20250715141338483.png)

如图所示连接节点，`Value`的默认值为1，可以看到此时材质的效果如下图所示。

![image-20250715141438523](UE材质学习笔记.assets/image-20250715141438523.png)

右侧参数中刚好对应**自定义名称**的值为1。

那么当我们通过这里的材质实例取消勾选，可以看到下图所示效果。

![image-20250715141606366](UE材质学习笔记.assets/image-20250715141606366.png)

要注意前后两张图偏右侧的**自定义名称**处的勾选框是什么状态。

## Texture类

### TextureSample

## Math类

### Add

![image-20250714122151508](UE材质学习笔记.assets/image-20250714122151508.png)

可以实现简单的两个同类型数据的相加操作，基础的数据相加不再展示。

当我们**需要将多个材质效果合并输出时也需要使用到`Add`节点**，如下图所示。

![image-20250714121855852](UE材质学习笔记.assets/image-20250714121855852.png)

![image-20250714121802878](UE材质学习笔记.assets/image-20250714121802878.png)

![image-20250714121916909](UE材质学习笔记.assets/image-20250714121916909.png)

在使用`Additive`材质混合模式+无光照的情况下通过使用`Add`节点将边缘菲涅尔控制的蓝色发光效果与中心红色发光效果合并在了一起，最终输出到材质球上，这就是`Add`在效果合并时的作用，可以据此举一反三。

### AppendVector

![image-20250715144712774](UE材质学习笔记.assets/image-20250715144712774.png)

图中选项栏搜索出来的两个`AppendVector`节点是同一节点，只不过在不同的分区（即数学、向量运算）。

该节点常用于通道合并，数字组对等类似增加数据维度的工作。

以图中`A`和`B`为例，把它们当作两个变量，它们在此之前只是单一的数字，那么该节点输出的结果就是（A，B）即数对，把这一对数用在`UV`坐标系中它们就是`U`和`V`坐标，用在颜色的调整中它们就是`R`和`G`通道的颜色数值（虽然一般情况下不会这么用）。

总结就是给变量**升维**的节点。

### Clamp

![image-20250713221423618](UE材质学习笔记.assets/image-20250713221423618.png)

很简单的节点，就是传入的数值将会被该节点所控制。

- 传入值<Min：输出Min
- 传入值>Max：输出Max
- Min<传入值<Max：输出转入值。

其中Min和Max的大小是可以改变的，也就是说可以自己定义需要控制的数值范围。

### ComponentMask

![image-20250715144321750](UE材质学习笔记.assets/image-20250715144321750.png)

### Divide

### Multiply

![image-20250714173127729](UE材质学习笔记.assets/image-20250714173127729.png)

`Multiply`节点即乘法节点，可以看到在节点搜索栏中打出`*`星号（即乘法符号）也可以找到此节点。

该节点除了简单的数据`A*B`效果之外，在制作图片颜色控制，明度控制、法线强度控制、时间流速控制等功能时也有广泛的应用。

下面列举几个例子来体会一下`Multiply`节点的使用方法。

**控制时间流速**

![image-20250714182124601](UE材质学习笔记.assets/image-20250714182124601.png)

这里使用了`Time`节点获取不断变化的时间，使用`Multiply`节点将该时间乘上一个数字（图中命名为`WaterSpeed`)，此后我们只需要调整`WaterSpeed`的大小即可实现速度的控制，这在控制动态材质的效果速度时非常有用。

**遮罩控制**

![image-20250714182652634](UE材质学习笔记.assets/image-20250714182652634.png)

在材质的`Masked`混合模式下，我们可以使用`Multiply`节点来控制遮罩中的非黑色区域，我们知道黑为0，白为1，那么介于其之间的颜色就是灰色，数值也就在0到1之间，由于`Masked`混合模式只有透明和不透明之分且分界值约为0.34，那么势必有一部分灰色的区域其数值小于0.34，比如是0.2，那么这一部分区域就会变透明。

当我们对该黑白图片使用`Multiply`节点之后，如果将图片得数据乘2，那么原先为0.2得灰色区域的数值就会变为0.4，此时0.4大于0.34，那么原先透明的部分现在就会变得不透明。基于此原理我们可以预见到，这个乘数`B`越大，材质中不透明的部分应该就会越来越多。

![image-20250714183252937](UE材质学习笔记.assets/image-20250714183252937.png)

**明度控制**

![image-20250714184621386](UE材质学习笔记.assets/image-20250714184621386.png)

当我们将`Multiply`节点连接到三元参数上时，对于三元参数中的每一个数（即`R` 、`G`、`B`）都会乘以`Multiply`节点中的乘数，并将最终数值结果在此组成`RGB`，比如原来是0.5、0.3、0.2，乘数为2，那么乘法之后数值就变为了1、0.6、0.4；如果原来是1、0.6、0.4，乘数为2，那么乘法之后数值就变为了2、1.2、0.8。

那这里可能存在一个疑问，`RGB`三种颜色数值不是不能超过1吗，为什么还可以存在2、1.2、0.8这种数据呢？答案其实很简单，因为实际上颜色具体是什么与`RGB`分别是什么数值无关，与`RGB`三个数字的数值之间的比例有关，因为乘法前后`RGB`三个数的比例不变，因此颜色不会改变。

虽然颜色不会改变但是颜色的明度会有所改变，三种色光的亮度同时增强，混合后的颜色整体**变亮**（明度升高），最终会逐渐接近白色。

**更换底色**

![image-20250714194019514](UE材质学习笔记.assets/image-20250714194019514.png)

上图用到了**去饱和度节点**（`Desturation`）详见材质节点`Utility`类部分。

该材质的效果就是去除图中`Texture Sample`节点中图片原本的颜色，让其变成黑白图片，最后通过上方的三元参数`Color`节点的颜色来控制黑白图片的颜色，如下图所示。

![image-20250714194608584](UE材质学习笔记.assets/image-20250714194608584.png)

当我将`Color`颜色调整为黄绿色之后整个材质的颜色都跟着发生了转变，图片自身的颜色不再存在。

首先，变成黑白图片的操作使用去饱和度节点即可完成，重点在于之后`Color`节点和`Desaturation`节点相乘的操作，对于这一步需要有一个较为深刻的理解。

我们从较为底层的数据计算上来解释它，通过对`Desaturation`节点的认识，我们知道去饱和度实际就是让`RGB`三色的数值相等，且该最终相等的数值是去饱和度之前`RGB`三色中较大的数值，去饱和度后的这个数值越接近0，图片颜色越偏黑；越接近1，图片颜色越偏白。无论如何，最终三者相等，这意味着去饱和度之后。`RGB`它们在做乘法运算时的数值变化是相同的（因为数值已经相同），**这就是最关键的点**。

这样当我们拿一个三元参数与之相乘之后，整体的颜色才会听命于三元参数的颜色。

第一个解释角度：因为去饱和度之后图片变为了灰白色，那么此时给它任何颜色都会变成这个颜色。

第二个解释角度：`RGB`三者数值相同，我就当作三个1，用三个1去乘一个表示颜色的三元参数，得到的结果必然是三元参数自身的数值，颜色自然就是其数值所代表的颜色。至于为什么最终材质效果中有的地方颜色深有的地方颜色浅，这是因为图片中并不是所有区域（或者说像素）的`RGB`三个数字都是1，有些可能是三个0.8，三个0.25等，那么这些数值在0和1之间的位置就决定了该区域的黑白程度，在其基础上加上颜色就呈现出了不同的颜色深浅。

### Normalize

### OneMinus

![image-20250713221755889](UE材质学习笔记.assets/image-20250713221755889.png)

该节点多用于反转纹理贴图的黑白色。

比如制作半透明材质，见下图。

![image-20250713222344391](UE材质学习笔记.assets/image-20250713222344391.png)

当使用这种黑白图片时，材质的效果是这样的：

![image-20250713222632405](UE材质学习笔记.assets/image-20250713222632405.png)

即只有小部分区域是不透明的，而使用`OneMinus`节点之后，见下图。

![image-20250713222657383](UE材质学习笔记.assets/image-20250713222657383.png)

![image-20250713222447550](UE材质学习笔记.assets/image-20250713222447550.png)

也就是说黑白图片中黑的变成了白的，白的变成了黑的，`OneMinus`就是这样用于反转图片或者数据的效果。

## Misc类

### CustomRotator

![image-20250715182923140](UE材质学习笔记.assets/image-20250715182923140.png)

上图搜索框中的两个同名节点是相同的。

- **UVs**：类似`Texture Sample`节点中的`UVs`，该引脚用于接收一个`UV`坐标系数据（二元参数），通常是制作材质时修改过的`TextureCoordinate`节点数据。

- **Rotation Center**：暂时不需要了解，可以无视。

- **Rotation Angle（0-1）**：该引脚用于旋转`UVs`接收的`UV`数据，之后从`Rotated Values`引脚输出，旋转`UV`进而旋转图案的方向。

  对于该节点的数值，0-1对应着0-360°，也就是说当我想要旋转90°时我需要将数值调整为0.25，以此类推。

- **Rotated Values**：输出加工过的`UV`数据。

我通常使用下图所示方式使用该节点。

![image-20250715183929327](UE材质学习笔记.assets/image-20250715183929327.png)

将一个一维参数除以360之后传递给`Rotation Angle`引脚，这样我不需要计算0-1之间的数值对应的角度，我只需要填写我需要的角度即可。

### FlattenNormal

![image-20250714141424945](UE材质学习笔记.assets/image-20250714141424945.png)

上图中两个`FlattenNormal`节点相同。

- **Normal**：接收一个法线贴图

- **Flatness**：平整度，可以简单理解为调整法线强度的数值。

  `Flatness=1`时，法线贴图失效，即材质表现其本身的图案；

  `0<Flatness<1`时，法线贴图表现出正常效果，越靠近0，效果越明显。

  `Flatness>1`时，法线贴图表现出的效果相反，即原本凸->凹，原本凹->凸。

- **Result**：仍然当作法线贴图得输出引脚即可，该节点就是调整一下法线贴图的效果强度。

下面举例展示一下效果。

![image-20250714142355472](UE材质学习笔记.assets/image-20250714142355472.png)

注意材质蓝图中的“法线强度”参数的数值变化。

![image-20250714142535003](UE材质学习笔记.assets/image-20250714142535003.png)

上图法线强度为0。

![image-20250714142552006](UE材质学习笔记.assets/image-20250714142552006.png)

上图法线强度为1。

![image-20250714142621612](UE材质学习笔记.assets/image-20250714142621612.png)

上图法线强度为2。

## Utility类

### Desaturation（去饱和度）

![image-20250714164830827](UE材质学习笔记.assets/image-20250714164830827.png)

故名思意这是一个去除图片饱和度的节点。

去饱和度实际就是让`RGB`三色的数值相等（即`R=G=B`），且该最终相等的数值是原本`RGB`三色中较大的数值。去饱和度后的这个数值越接近0，图片颜色越偏黑；越接近1，图片颜色越偏白。

比如将`Texture Sample`节点连接到该节点的输入引脚上，之后即可通过`Fraction`参数来调整`Texture Sample`节点所选的图片颜色的饱和度。

其中，`Fraction`越接近1，图片中的颜色色感就越少，即去饱和度的效果越明显。

下面使用一张图片来举例展示`Desaturation`节点的使用方法及其效果。

![image-20250714165637417](UE材质学习笔记.assets/image-20250714165637417.png)

正常情况下材质的效果就是图片的效果，当我们将图片连接到`Desaturation`节点并将`Fraction`参数设置为1之后，效果如下图所示。

![image-20250714170043621](UE材质学习笔记.assets/image-20250714170043621.png)

![image-20250714170053906](UE材质学习笔记.assets/image-20250714170053906.png)



### Fresnel（菲涅尔）

![image-20250713182109485](UE材质学习笔记.assets/image-20250713182109485.png)

- **Exponentln**：衰减程度，数值越大，边缘白色向中心黑色衰减越快，直观来说就是材质球黑色部分变大。
- **BaseReflectFractionln**：可以简单理解为黑白对比度，数值越大，中心黑色部分就越偏白，也就是黑白对比度降低。
- **Normal**：接收一个法线贴图，将菲涅尔效果作用到法线贴图中之后再输出出去

菲涅尔效应是一种光学现象，描述光在两种不同介质（如空气和玻璃、水和空气）的界面上，反射光强度随入射角变化的规律。

简单来说，当光线垂直或接近垂直入射到界面时，反射较弱、折射较强（比如正对着玻璃看，反射光少，能清晰看到玻璃另一侧）；而当光线以大角度斜入射时，反射会明显增强、折射减弱（比如斜着看水面，会看到更明显的反射倒影）。

![image-20250713182515367](UE材质学习笔记.assets/image-20250713182515367.png)

该节点旨在模拟这种效应带来的明暗变化，鼠标右键该节点开启预览即可看到下图所示材质。

![image-20250713182539096](UE材质学习笔记.assets/image-20250713182539096.png)

可以看到材质球中间为黑色，边缘为白色。这就是该节点模拟的菲涅尔效果，折射弱的地方用黑色表示，折射强得地方用白色表示，而在材质制作中黑代表0，白代表1，因此该节点所表现出的效果也可以看作一个遮罩。有时也可以利用遮罩做一些与折射无关的功能，比如颜色范围的界定等。

`Fresnel`节点常用在折射效果的制作中，如下图所示。

![屏幕截图 2025-07-13 181749](UE材质学习笔记.assets/屏幕截图 2025-07-13 181749.png)

利用菲涅尔效果中的0和1的过渡，将其作为`Alpha`值传递给`Lerp`节点，即可实现`AB`两个数值的过渡。也就是材质靠近中心位置处的`Fresnel`是黑色即0，0对应`A`处的折射率，材质靠近边缘位置处的`Fresnel`是白色即1，1对应`B`处的折射率，二者中间部分由`Lerp`负责调控，调控混合后的折射率数值传递给`Refraction`引脚以输出到最终材质效果上。

![image-20250713184117392](UE材质学习笔记.assets/image-20250713184117392.png)

从这张图可以较为清晰的看到透明球的边缘折射率明显高于画面中间部分。